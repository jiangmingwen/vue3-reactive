<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app"></div>
    <button id="btn">按钮</button>
    <script src="./packages/reactivity/dist/reactivity.global.js"></script>
    <script>

        const {
            reactive,
            readonly,
            shallowReactive,
            shallowReadonly,
            effect,
            ref,
            toRef,
            toRefs,
            computed
} = VueReactivity
    const obj = {a: 1, age: 12,arr:[1,2,3]}
    const newObj = reactive(obj)
    // const app = document.getElementById('app')
    // console.log(newObj.a,'newObj')
  

    // setTimeout(() => {
    //     newObj.arr[100] = 5
    // }, 3000);

    const  {a} = toRefs(newObj)

    console.log(a)
    const s  = computed(()=> {
        return newObj.a - 1
    })

    const b  = computed(()=> {
        return newObj.a + 1
    })

     effect(()=> {
        app.innerHTML = a.value + 'computed: ' + s.value +'另外一个'+ b.value
    })

    // const s = ref({a: 1})
    // console.log(newObj)
    setTimeout(() => {
        
        a.value = 12
    }, 1000);

    document.getElementById('btn').onclick = ()=>{
        a.value += 1
    }
   
    </script>
    
</body>
</html>